.root {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;

  --depth: 0;
  --motion: 1;
  --shark1-a: 0;
  --shark2-a: 0;

  --debug-depth: "0%";
  --debug-a1: "0";
  --debug-a2: "0";
}

.base {
  position: absolute;
  inset: 0;

  background:
    radial-gradient(
      1200px 700px at 30% 10%,
      rgba(40, 170, 200, calc(0.16 - var(--depth) * 0.10)),
      transparent 60%
    ),
    linear-gradient(
      180deg,
      rgba(0, 120, 170, calc(0.16 - var(--depth) * 0.10)) 0%,
      rgba(0, 45, 90, calc(0.50 + var(--depth) * 0.30)) 55%,
      rgba(0, 10, 30, calc(0.70 + var(--depth) * 0.25)) 100%
    );
}

.caustics {
  position: absolute;
  inset: -20%;
  opacity: calc(0.18 * var(--motion));
  mix-blend-mode: soft-light;

  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,0.16), transparent 45%),
    radial-gradient(circle at 70% 40%, rgba(255,255,255,0.12), transparent 40%),
    radial-gradient(circle at 40% 70%, rgba(255,255,255,0.08), transparent 45%);

  filter: blur(1px);
  animation: causticsMove 10s ease-in-out infinite;
}

@keyframes causticsMove {
  0%   { transform: translate3d(-2%, -1%, 0) scale(1.02); }
  50%  { transform: translate3d(2%, 1%, 0) scale(1.04); }
  100% { transform: translate3d(-2%, -1%, 0) scale(1.02); }
}

.vignette {
  position: absolute;
  inset: 0;
  background: radial-gradient(
    900px 600px at 50% 25%,
    transparent 28%,
    rgba(0, 0, 0, calc(0.22 + var(--depth) * 0.45)) 100%
  );
}

.bubbles {
  position: absolute;
  inset: 0;
  opacity: calc(0.28 * var(--motion));
  background:
    radial-gradient(circle at 15% 85%, rgba(255,255,255,0.10), transparent 14%),
    radial-gradient(circle at 35% 92%, rgba(255,255,255,0.08), transparent 12%),
    radial-gradient(circle at 70% 88%, rgba(255,255,255,0.07), transparent 14%),
    radial-gradient(circle at 85% 95%, rgba(255,255,255,0.06), transparent 12%);
  animation: bubblesUp 8s linear infinite;
}

@keyframes bubblesUp {
  0% { transform: translateY(10%); }
  100% { transform: translateY(-12%); }
}

/* --- Swim layers --- */
/* global.css’teki shark-swim-right/left keyframes’i kullanıyoruz */
.swimRight {
  position: absolute;
  top: 62%;
  left: 0;
  width: 100%;
  opacity: calc(var(--shark1-a) * 0.18);
  animation: shark-swim-right calc(18s + var(--depth) * 10s) linear infinite;
}

.swimLeft {
  position: absolute;
  top: 72%;
  left: 0;
  width: 100%;
  opacity: calc(var(--shark2-a) * 0.14);
  animation: shark-swim-left calc(22s + var(--depth) * 10s) linear infinite;
}

.bob {
  display: inline-block;
  animation: shark_bob 4.6s ease-in-out infinite;
}

.shark,
.shark2 {
  width: min(520px, 44vw);
  filter: blur(0.4px) saturate(0) brightness(0.9);
  mix-blend-mode: overlay;
  opacity: 1;
}

.shark2 {
  transform: scaleX(-1); /* diğer yöne bakıyormuş gibi */
  opacity: 0.9;
}

/* Debug HUD */
.debug {
  position: fixed;
  left: 12px;
  bottom: 12px;
  z-index: 9999;
  pointer-events: none;
  font-size: 12px;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.35);
  backdrop-filter: blur(10px);
  color: rgba(255,255,255,0.9);
}

.debug b::before { content: var(--debug-depth); }
.debug div:nth-child(2) b::before { content: var(--debug-a1); }
.debug div:nth-child(3) b::before { content: var(--debug-a2); }

@media (prefers-reduced-motion: reduce) {
  .caustics, .bubbles, .swimRight, .swimLeft, .bob { animation: none !important; }
}
.swimRight {
  position: absolute;
  top: calc(74% + var(--depth) * 18%);
  left: 0;
  width: 100%;
  opacity: calc(var(--shark1-a) * 0.14);
  animation: shark-swim-right calc(20s + var(--depth) * 10s) linear infinite;
}

.swimLeft {
  position: absolute;
  top: calc(86% + var(--depth) * 10%);
  left: 0;
  width: 100%;
  opacity: calc(var(--shark2-a) * 0.10);
  animation: shark-swim-left calc(26s + var(--depth) * 10s) linear infinite;
  animation-delay: -11s; /* aynı anda çıkmasın */
}

.shark {
  width: min(460px, 40vw);
}

.shark2 {
  width: min(320px, 28vw);
  transform: scaleX(-1);
  opacity: 0.9;
}
